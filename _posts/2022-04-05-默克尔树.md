# 默克尔树

##### 	默克尔树的特点：

​			1.首先是它的树的结构，默克尔树常见的结构是二叉树，但它也可以是多叉树，它具有树结构				的全部特点。

​			2.默克尔树的基础数据不是固定的，想存什么数据由你说了算，因为它只要数据经过哈希运算				得到的hash值。

​			3.默克尔树是从下往上逐层计算的，就是说每个中间节点是根据相邻的两个叶子节点组合计算				得出的，而根节点是根据两个中间节点组合计算得出的，所以叶子节点是基础。

![image-20220406011951457](C:\Users\ZY\AppData\Roaming\Typora\typora-user-images\image-20220406011951457.png)

#### 如何通过Merkle树验证一笔交易？

​	假设我们要验证区块中存在Hash值为9Dog:64（绿色框）的交易，我们仅需要知道1FXq:18、ec20、8f74（黄色框）即可计算出781a、5c71与Root节点（藕粉色框）的哈希，如果最终计算得到的Root节点哈希与区块头中记录的哈希（6c0a）一致，即代表该交易在区块中存在。这是因为我上文提到的两个点，一个是默克尔树是从下往上逐层计算的，所以只要知道相邻的另一个节点的hash值就可以一直往上计算直到根节点，另一个是根节点的hash值可以准确的作为一组交易的唯一摘要，依据这两点就可以来验证一笔交易是否存在。

![image-20220406012141728](C:\Users\ZY\AppData\Roaming\Typora\typora-user-images\image-20220406012141728.png)

#### 比特币中的默克尔树

​	![image-20220406012222606](C:\Users\ZY\AppData\Roaming\Typora\typora-user-images\image-20220406012222606.png)

可以看到区块头包含了根节点的hash值，而中间节点、叶子节点还有基础数据在放在了区块体中。

这里有一点需要提的就是在比特网络中的Merkle树是二叉树，所以它需要偶数个叶子节点。如果仅有奇数个交易需要归纳，那最后的交易就会被复制一份以构成偶数个叶子节点，这种偶数个叶子节点的树也被称为平衡树。

参考自：[(33条消息) 区块链100篇之第九篇--默克尔树（Merkle Tree）_&jalins&的博客-CSDN博客_默克尔树](https://blog.csdn.net/weixin_37504041/article/details/80474636)
